---
layout: post
title: 2559. Count Vowel Strings in Ranges
image: Mine/1694882289060.jpg
date: 2025-01-02 20:00:00 +0900
tags: [Problem_Solving]
categories: Problem_Solving
difficulty: Medium
topics: [Array, String, Prefix Sum]
---

# 2559. Count Vowel Strings in Ranges
[ë¬¸ì œ ë§í¬](https://leetcode.com/problems/count-vowel-strings-in-ranges/description/?envType=daily-question&envId=2025-01-02)

<br/>

## ë‚´ ì½”ë“œ
Prefix Sum.

*0ms, 70MB*
```cpp
class Solution {
public:
    vector<int> vowelStrings(vector<string>& words, vector<vector<int>>& queries) {
        int n = words.size();
        vector<int> prefixSum(n + 1, 0);
        for(int i{1};i<=n;++i) {
            prefixSum[i] = prefixSum[i-1];
            if(isVowel(words[i-1].front()) && isVowel(words[i-1].back())) {
                prefixSum[i]++;
            }
        }

        vector<int> answer;
        for(vector<int>& query : queries) {
            answer.push_back(prefixSum[query[1] + 1] - prefixSum[query[0]]);
        }
        return answer;
    }
private:
    bool isVowel(char c) {
        if(c =='a' || c== 'e' || c == 'i' || c== 'o' || c == 'u') return true;
        return false;
    }
};
```

<br/>

## Solution

### Approach: Prefix Sum
- *19ms, 73.98MB*
- Complexity
  - Let $M$ be the size of `words` and $N$ be the size of `queries`.
  - Time Complexity: $O(M + N)$
  - Space Complexity: $O(M)$

```cpp
class Solution {
public:
    vector<int> vowelStrings(vector<string>& words,
                             vector<vector<int>>& queries) {
        vector<int> ans(queries.size());
        unordered_set<char> vowels{'a', 'e', 'i', 'o', 'u'};
        vector<int> prefixSum(words.size());
        int sum = 0;
        for (int i = 0; i < words.size(); i++) {
            string currentWord = words[i];
            if (vowels.count(currentWord[0]) &&
                vowels.count(currentWord[currentWord.size() - 1])) {
                sum++;
            }
            prefixSum[i] = sum;
        }

        for (int i = 0; i < queries.size(); i++) {
            vector<int> currentQuery = queries[i];
            ans[i] =
                prefixSum[currentQuery[1]] -
                (currentQuery[0] == 0 ? 0 : prefixSum[currentQuery[0] - 1]);
        }

        return ans;
    }
};
```

<br/>

#### GPT
ì´ ì½”ë“œëŠ” **ì£¼ì–´ì§„ ë‹¨ì–´ ë¦¬ìŠ¤íŠ¸ì—ì„œ íŠ¹ì • ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë‹¨ì–´ì˜ ê°œìˆ˜ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ êµ¬í•˜ëŠ” ë¬¸ì œ**ë¥¼ í•´ê²°í•©ë‹ˆë‹¤.  
í•µì‹¬ ê°œë…ì€ **ëˆ„ì  í•©(Prefix Sum)ì„ í™œìš©í•˜ì—¬ ë¹ ë¥´ê²Œ ì§ˆì˜(queries)ì— ë‹µí•˜ëŠ” ê²ƒ**ì…ë‹ˆë‹¤.  

---

## **ğŸ” ë¬¸ì œ ì´í•´**
- `words`: ë‹¨ì–´ë“¤ì˜ ë¦¬ìŠ¤íŠ¸  
- `queries`: `[L, R]` ìŒìœ¼ë¡œ ì£¼ì–´ì§€ëŠ” ë²”ìœ„ ì§ˆì˜  
- ê° `word`ê°€ **ëª¨ìŒ(a, e, i, o, u)ë¡œ ì‹œì‘í•˜ê³  ëë‚˜ëŠ” ê²½ìš°ì—ë§Œ ì¹´ìš´íŠ¸**  
- ê° `[L, R]`ì— ëŒ€í•´ **í•´ë‹¹ ë²”ìœ„ ë‚´ì—ì„œ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë‹¨ì–´ì˜ ê°œìˆ˜ë¥¼ ë°˜í™˜**

---

## **ğŸ“Œ ì½”ë“œ ë¶„ì„**
### **1ï¸âƒ£ ë³€ìˆ˜ ì„ ì–¸ ë° ì´ˆê¸°í™”**
```cpp
vector<int> ans(queries.size());
unordered_set<char> vowels{'a', 'e', 'i', 'o', 'u'};
vector<int> prefixSum(words.size());
int sum = 0;
```
- `ans`: ê° ì¿¼ë¦¬ì˜ ë‹µì„ ì €ì¥í•  ë²¡í„° (`queries.size()` í¬ê¸°ë¡œ ì´ˆê¸°í™”)
- `vowels`: ëª¨ìŒ íŒë³„ì„ ìœ„í•œ `unordered_set` (O(1) íƒìƒ‰)
- `prefixSum`: ëˆ„ì  í•© ë°°ì—´
- `sum`: í˜„ì¬ê¹Œì§€ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë‹¨ì–´ ê°œìˆ˜ë¥¼ ì €ì¥í•˜ëŠ” ë³€ìˆ˜

---

### **2ï¸âƒ£ ëˆ„ì  í•©(prefix sum) ê³„ì‚°**
```cpp
for (int i = 0; i < words.size(); i++) {
    string currentWord = words[i];
    if (vowels.count(currentWord[0]) &&
        vowels.count(currentWord[currentWord.size() - 1])) {
        sum++;
    }
    prefixSum[i] = sum;
}
```
#### **ğŸ”¥ ì‘ë™ ë°©ì‹**
- ë‹¨ì–´ì˜ **ì²« ê¸€ìì™€ ë§ˆì§€ë§‰ ê¸€ìê°€ ëª¨ë‘ ëª¨ìŒ**ì´ë©´ `sum++`
- `prefixSum[i]`ì— í˜„ì¬ê¹Œì§€ì˜ `sum` ê°’ì„ ì €ì¥  
  â†’ ì¦‰, `prefixSum[i]`ëŠ” `words[0]`ë¶€í„° `words[i]`ê¹Œì§€ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë‹¨ì–´ ê°œìˆ˜

âœ… **ëˆ„ì  í•©ì„ í™œìš©í•˜ë©´ ì¿¼ë¦¬ ì²˜ë¦¬ê°€ O(1)** ë¡œ ê°€ëŠ¥!

---

### **3ï¸âƒ£ ì¿¼ë¦¬ ì²˜ë¦¬**
```cpp
for (int i = 0; i < queries.size(); i++) {
    vector<int> currentQuery = queries[i];
    ans[i] =
        prefixSum[currentQuery[1]] - 
        (currentQuery[0] == 0 ? 0 : prefixSum[currentQuery[0] - 1]);
}
```
#### **ğŸ”¥ ì‘ë™ ë°©ì‹**
- `queries[i] = [L, R]`ì— ëŒ€í•´:
  - `prefixSum[R]`: `words[0]`ë¶€í„° `words[R]`ê¹Œì§€ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë‹¨ì–´ ê°œìˆ˜
  - `prefixSum[L-1]`: `words[0]`ë¶€í„° `words[L-1]`ê¹Œì§€ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë‹¨ì–´ ê°œìˆ˜  
  - ë”°ë¼ì„œ, **ë²”ìœ„ `[L, R]`ì˜ ê°œìˆ˜**ëŠ”  
    $\text{prefixSum}[R] - \text{prefixSum}[L-1]$
- ì˜ˆì™¸ ì²˜ë¦¬: `L == 0`ì´ë©´ `prefixSum[-1]`ì€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ `0`ìœ¼ë¡œ ëŒ€ì²´

âœ… **ê° ì¿¼ë¦¬ëŠ” O(1)ë¡œ ì²˜ë¦¬ ê°€ëŠ¥!**

---

## **ğŸ“Œ ì˜ˆì œ ì‹¤í–‰**
```cpp
vector<string> words = {"apple", "banana", "orange", "egg", "umbrella"};
vector<vector<int>> queries = { {0, 2}, {1, 3}, {2, 4} };
Solution sol;
vector<int> result = sol.vowelStrings(words, queries);
```

### **ğŸ”¹ Step 1: ëˆ„ì  í•©(prefixSum) ìƒì„±**
- `words = ["apple", "banana", "orange", "egg", "umbrella"]`
- ëª¨ìŒìœ¼ë¡œ ì‹œì‘í•˜ê³  ëë‚˜ëŠ” ë‹¨ì–´:  
  - `"apple"` âœ…  
  - `"banana"` âŒ  
  - `"orange"` âœ…  
  - `"egg"` âœ…  
  - `"umbrella"` âœ…  

| Index | Word      | ì¡°ê±´ ë§Œì¡± ì—¬ë¶€ | `sum` | `prefixSum[i]` |
|:---:|:---:|:---:|:---:|:---:|
| 0      | `"apple"`  | âœ…         | 1    | 1           |
| 1      | `"banana"` | âŒ         | 1    | 1           |
| 2      | `"orange"` | âœ…         | 2    | 2           |
| 3      | `"egg"`    | âœ…         | 3    | 3           |
| 4      | `"umbrella"` | âœ…      | 4    | 4           |

âœ… `prefixSum = [1, 1, 2, 3, 4]`

---

### **ğŸ”¹ Step 2: ì¿¼ë¦¬ ì²˜ë¦¬**

| Query | `L` | `R` | ê³„ì‚° | ê²°ê³¼ |
|:---:|:---:|:---:|:---:|:---:|
| `{0,2}` | 0 | 2 | `prefixSum[2] - 0 = 2` | `2` |
| `{1,3}` | 1 | 3 | `prefixSum[3] - prefixSum[0] = 3 - 1 = 2` | `2` |
| `{2,4}` | 2 | 4 | `prefixSum[4] - prefixSum[1] = 4 - 1 = 3` | `3` |

âœ… ìµœì¢… ì¶œë ¥: `[2, 2, 3]`

---

## **â± ì‹œê°„ ë³µì¡ë„ ë¶„ì„**

| ì—°ì‚° | ì‹œê°„ ë³µì¡ë„ |
|:---:|:---:|
| `prefixSum` ê³„ì‚° | $O(n)$ |
| `queries` ì²˜ë¦¬ | $O(q)$ |
| ì „ì²´ ì‹œê°„ ë³µì¡ë„ | $O(n + q)$ |

âœ… **íš¨ìœ¨ì !**  

---

## **ğŸ’¡ í•µì‹¬ ìµœì í™” í¬ì¸íŠ¸**
1. **ëˆ„ì  í•©(prefix sum) í™œìš© â†’ $O(n)$**
   - ê° `words[i]`ê°€ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ”ì§€ í™•ì¸í•˜ê³  `prefixSum` ì—…ë°ì´íŠ¸
   - í•œ ë²ˆì˜ `for` ë£¨í”„ë§Œ ì‚¬ìš© $\rightarrow$ $O(n)$
  
2. **ì¿¼ë¦¬ ì²˜ë¦¬ ìµœì í™” â†’ $O(1)$**
   - ëˆ„ì  í•©ì„ í™œìš©í•´ $O(1)$ ì—°ì‚°ìœ¼ë¡œ ë²”ìœ„ ë‚´ ê°œìˆ˜ êµ¬í•˜ê¸°  
   - ê¸°ì¡´ $O(nq)$ë³´ë‹¤ í›¨ì”¬ ë¹ ë¦„ (`q`ëŠ” ì¿¼ë¦¬ ê°œìˆ˜)

---

## **âœ… ê²°ë¡ **
âœ” **ëˆ„ì  í•©(prefix sum) í™œìš©í•œ $O(n + q)$ í’€ì´**  
âœ” **ë¹ ë¥´ê³  íš¨ìœ¨ì ì¸ ì•Œê³ ë¦¬ì¦˜** ğŸš€  
âœ” **ë²”ìœ„ ì¿¼ë¦¬ ë¬¸ì œì— ìì£¼ ì“°ì´ëŠ” ê¸°ë²•!** ğŸ’¡

<br/>
